(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),c=n.n(o),u=n(14),i=n(2),l=n(3),s=n.n(l),d="/api/person",m=function(){return s.a.get(d).then((function(e){return e.data}))},f=function(e){return s.a.post(d,e).then((function(e){return e.data}))},b=function(e,t){return s.a.put("".concat(d,"/").concat(e),t).then((function(e){return e.data})).catch((function(e){console.log("fail")}))},h=function(e){s.a.delete("".concat(d,"/").concat(e)).then((function(e){console.log(e.statusText)}))},p=function(e){var t=e.message;return null===t?null:a.a.createElement("div",{style:{color:"green",fontStyle:"italic",background:"lightgrey",fontSize:20,borderstyle:"solid",borderradius:5,padding:10,marginbottom:10}},t)};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=function(e){return a.a.createElement("div",null,a.a.createElement("form",null,a.a.createElement("label",{htmlFor:"name"},"Filter Shown By Name"),a.a.createElement("input",{type:"text",id:"name",value:e.values,onChange:e.onChange})))},w=function(e){return a.a.createElement("div",null,a.a.createElement("input",{value:e.val,onChange:e.onChange,required:!0}))},E=function(e){return a.a.createElement("form",{onSubmit:e.addPerson},a.a.createElement("div",null,"name:   ",a.a.createElement(w,{val:e.newName,onChange:e.onAddName}),"number: ",a.a.createElement(w,{val:e.newNumber,onChange:e.onAddNumber}),a.a.createElement("button",{type:"submit"},"add")))},O=function(e){return e.persons.filter(e.isSearched(e.searchName)).map((function(t){return a.a.createElement("div",{key:t.id},a.a.createElement(y,{person:t,deletePerson:e.deleteInput}))}))},y=function(e){var t=e.person,n=e.deletePerson;return a.a.createElement("div",{key:t.id},t.name,t.number,a.a.createElement("button",{onClick:function(){return n(t.id)}},"deleteContact"))},j=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(i.a)(c,2),s=l[0],d=l[1],w=Object(r.useState)(""),y=Object(i.a)(w,2),j=y[0],k=y[1],N=Object(r.useState)(""),S=Object(i.a)(N,2),C=S[0],P=S[1],A=Object(r.useState)(""),x=Object(i.a)(A,2),D=x[0],L=x[1];Object(r.useEffect)((function(){m().then((function(e){o(e)}))}),[]);return a.a.createElement("div",null,a.a.createElement("h1",null,a.a.createElement(p,{message:D})),a.a.createElement("h2",null,"Phonebook"),a.a.createElement(g,{values:C,onChange:function(e){return P(e.target.value)}}),a.a.createElement("h2",null,"Add New"),a.a.createElement(E,{addPerson:function(e){e.preventDefault();var t={name:s,number:j};if(function(){var e=!1;return n.filter((function(t){return-1!==t.name.toLowerCase().indexOf(s.toLowerCase())&&(e=!0),e})),e}()){var r=n.find((function(e){return e.name===s}));if(r.number!==j){if(!window.confirm("".concat(r.name,"is added to phonebook ,Replace the old Number with this?")))return;var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{number:j});b(r.id,a).then((function(e){o(n.map((function(e){return e.id!==r.id?e:a}))),d(""),k("")}))}else alert(s+" is already added to phonebook")}else f(t).then((function(e){console.log(e),o(n.concat(e)),d(""),k(""),L("".concat(s,"  is added Successfully")),setTimeout((function(){L(null)}),5e3)}))},newName:s,newNumber:j,onAddName:function(e){return d(e.target.value)},onAddNumber:function(e){return k(e.target.value)}}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(O,{persons:n,isSearched:function(e){return function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())}},searchName:C,deleteInput:function(e){if(window.confirm("Are you sure you want to delete this?")){var t=n.filter((function(t){return t.id!==e}));h(e),o(t)}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.8f73942f.chunk.js.map