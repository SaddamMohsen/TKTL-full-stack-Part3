(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(13),c=t.n(o),u=t(14),i=t(2),l=t(3),s=t.n(l),d="/api/person",m=function(){return s.a.get(d).then((function(e){return e.data}))},f=function(e){return s.a.post(d,e).then((function(e){return e.data}))},b=function(e,n){return s.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data})).catch((function(e){console.log("fail")}))},h=function(e){s.a.delete("".concat(d,"/").concat(e)).then((function(e){console.log(e.statusText)}))},p=function(e){var n=e.message;return null===n?null:a.a.createElement("div",{style:{color:"green",fontStyle:"italic",background:"lightgrey",fontSize:20,borderstyle:"solid",borderradius:5,padding:10,marginbottom:10}},n)};function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var g=function(e){return a.a.createElement("div",null,a.a.createElement("form",null,a.a.createElement("label",{htmlFor:"name"},"Filter Shown By Name"),a.a.createElement("input",{type:"text",id:"name",value:e.values,onChange:e.onChange})))},w=function(e){return a.a.createElement("div",null,a.a.createElement("input",{value:e.val,onChange:e.onChange,required:!0}))},E=function(e){return a.a.createElement("form",{onSubmit:e.addPerson},a.a.createElement("div",null,"name:   ",a.a.createElement(w,{val:e.newName,onChange:e.onAddName}),"number: ",a.a.createElement(w,{val:e.newNumber,onChange:e.onAddNumber}),a.a.createElement("button",{type:"submit"},"add")))},O=function(e){return e.persons.filter(e.isSearched(e.searchName)).map((function(n){return a.a.createElement("div",{key:n.id},a.a.createElement(y,{person:n,deletePerson:e.deleteInput}))}))},y=function(e){var n=e.person,t=e.deletePerson;return a.a.createElement("div",{key:n.id},n.name,n.number,a.a.createElement("button",{onClick:function(){return t(n.id)}},"delete"))},j=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(""),l=Object(i.a)(c,2),s=l[0],d=l[1],w=Object(r.useState)(""),y=Object(i.a)(w,2),j=y[0],k=y[1],N=Object(r.useState)(""),S=Object(i.a)(N,2),P=S[0],C=S[1],A=Object(r.useState)(""),x=Object(i.a)(A,2),D=x[0],L=x[1];Object(r.useEffect)((function(){m().then((function(e){o(e)}))}),[]);return a.a.createElement("div",null,a.a.createElement("h1",null,a.a.createElement(p,{message:D})),a.a.createElement("h2",null,"Phonebook"),a.a.createElement(g,{values:P,onChange:function(e){return C(e.target.value)}}),a.a.createElement("h2",null,"Add New"),a.a.createElement(E,{addPerson:function(e){e.preventDefault();var n={name:s,number:j};if(function(){var e=!1;return t.filter((function(n){return-1!==n.name.toLowerCase().indexOf(s.toLowerCase())&&(e=!0),e})),e}()){var r=t.find((function(e){return e.name===s}));if(r.number!==j){if(!window.confirm("".concat(r.name,"is added to phonebook ,Replace the old Number with this?")))return;var a=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(t,!0).forEach((function(n){Object(u.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},r,{number:j});b(r.id,a).then((function(e){o(t.map((function(e){return e.id!==r.id?e:a}))),d(""),k("")}))}else alert(s+" is already added to phonebook")}else f(n).then((function(e){console.log(e),o(t.concat(e)),d(""),k(""),L("".concat(s,"  is added Successfully")),setTimeout((function(){L(null)}),5e3)}))},newName:s,newNumber:j,onAddName:function(e){return d(e.target.value)},onAddNumber:function(e){return k(e.target.value)}}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(O,{persons:t,isSearched:function(e){return function(n){return-1!==n.name.toLowerCase().indexOf(e.toLowerCase())}},searchName:P,deleteInput:function(e){if(window.confirm("Are you sure you want to delete this?")){var n=t.filter((function(n){return n.id!==e}));h(e),o(n)}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.725a7f31.chunk.js.map